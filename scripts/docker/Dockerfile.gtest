# Build on top of ubuntu
FROM cm314/splinelib:gtest2

# Work in /spack
WORKDIR /spack

# Set-up shell
SHELL ["bash", "-c"]
ENV BASH_ENV /spack/bashrc

# Install googletest versions
RUN spack install googletest +gmock ~shared %gcc@8.0.1
RUN spack install googletest +gmock ~shared %gcc@7.3.0
RUN spack install googletest +gmock ~shared %clang@6.0.0-1ubuntu2
RUN spack install googletest +gmock ~shared %clang@5.0.1-4

CMD /bin/bash
